<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="job_application_form_id" model="ir.ui.view">
        <field name="name">job.application.form.id</field>
        <field name="model">job.application</field>
        <field name="arch" type="xml">
            <form string="Job Details">
            <!-- <header>
                <button name="send_email" string="Send Email" class="oe_highlight" type="object"/>
            </header> -->
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="email"/>
                        <field name="phone"/>
                        <field name="cv_attachment" groups="hr.group_hr_user"/>
                        <field name="email_domain"/>
                        <field name="status"/>
                    </group>
                </sheet>
                <footer>
                    <button name='action_draft' string='draft' type='object' class='btn-suecess' invisible="status == 'draft'"/>
                    <button name='action_submitted' string='submitted' type='object' class='btn-suecess' invisible="status == 'submitted'"/>
                    <button name="action_shortlisted" type="object" string="shortlisted" class="btn-success" invisible="status == 'shortlisted'"/>
                    <button name="action_rejected" type="object" string="rejected" class="btn-success" invisible="status == 'shortlisted'"/>
                    <button name="action_hire" type="object" string="Hire" class="btn-success" invisible="status == 'hired'"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="job_application_list_view" model="ir.ui.view">
        <field name="name">job.application.list.view</field>
        <field name="model">job.application</field>
        <field name="arch" type="xml">
            <list string="Job applications">
                <field name="name"/>
                <field name="email"/>
                <field name="phone"/>
                <field name="cv_attachment"/>
                <field name="email_domain"/>
                <field name="status"/>    
            </list>
        </field>
    </record>

        <!-- Job application serach view-->
    <record id="job_app_view_search" model="ir.ui.view">
            <field name="name">job.app.view.search</field>
            <field name="model">job.application</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <filter name="other_by_name" string="name" context="{'group_by':'name'}"/>
                </search>
            </field>
    </record>

    <record id="job_application_actions" model="ir.actions.act_window">
        <field name="name">Job Application</field>
        <field name="res_model">job.application</field>
        <field name="view_mode">list,form</field>
    </record>
</odoo>

